# CLI

Основная команда для работы: `anytask-scraper`.

## Глобальные опции

Эти флаги можно использовать с любой подкомандой:

| Флаг                 | Описание                                 |
| -------------------- | ---------------------------------------- |
| `--username`, `-u`   | Логин Anytask.                           |
| `--password`, `-p`   | Пароль Anytask.                          |
| `--credentials-file` | Путь к файлу с логином/паролем.          |
| `--session-file`     | Путь к файлу сессии.                     |
| `--debug`, `-d`      | Включить режим отладки (вывод логов).    |
| `--log-file`         | Записывать логи в указанный файл.        |
| `--settings-file`    | Путь к пользовательскому файлу настроек. |

## Команда `course`

Получение списка задач и их статусов для указанного курса.

```bash
anytask-scraper course -c COURSE_ID [OPTIONS]
```

**Опции:**

- `-c`, `--course`: ID курса (число). Можно указать несколько через пробел.
- `-o`, `--output`: Папка для сохранения результата.
- `-f`, `--format`: Формат вывода: `json`, `markdown`, `csv`, `table` (только вывод в консоль).
- `--show`: Показать красивую таблицу в терминале после сохранения файла.
- `--fetch-descriptions`: Скачать полные тексты условий задач (требует больше запросов).

**Пример:**

```bash
# Скачать задачи курса 12345 в Markdown и показать таблицу
anytask-scraper course -c 12345 -f markdown --show
```

## Команда `queue`

Получение очереди на проверку (для преподавателей).

```bash
anytask-scraper queue -c COURSE_ID [OPTIONS]
```

**Опции:**

- `-c`, `--course`: ID курса.
- `--deep`: Глубокий анализ. Скачивает детальную информацию о каждом решении (комментарии, файлы).
- `--download-files`: Скачать все приложенные файлы студентов. Автоматически включает `--deep`.
- `--filter-task`: Фильтр по названию задачи.
- `--filter-reviewer`: Фильтр по проверяющему.
- `--filter-status`: Фильтр по статусу.

**Пример:**

```bash
# Скачать все файлы по задаче "HW1"
anytask-scraper queue -c 12345 --filter-task "HW1" --download-files
```

## Команда `gradebook`

Получение общей ведомости оценок по курсу.

```bash
anytask-scraper gradebook -c COURSE_ID [OPTIONS]
```

**Опции:**

- `-c`, `--course`: ID курса.
- `--filter-group`: Фильтр по группе студентов.
- `--min-score`: Оставить только студентов с суммой баллов выше указанной.

**Пример:**

```bash
# Получить ведомость группы "M3238" в формате CSV
anytask-scraper gradebook -c 12345 --filter-group "M3238" -f csv
```

## Команда `settings`

См. раздел **[Конфигурация](Configuration.md)**.
